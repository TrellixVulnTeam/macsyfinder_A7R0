

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>config &mdash; Txsscan 0.9a1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Txsscan 0.9a1 documentation" href="index.html" />
    <link rel="next" title="system_parser" href="system_parser.html" />
    <link rel="prev" title="Welcome to Txsscan’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="system_parser.html" title="system_parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Txsscan’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Txsscan 0.9a1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="config">
<span id="id1"></span><h1>config<a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h1>
<p>Handle the all configuration options for txsscan.
parse 3 location to find configuration files</p>
<blockquote>
<div><ul class="simple">
<li>$PREFIX/etc/txsscan/txsscan.conf</li>
<li>$(HOME)/.txsscan/txsscan.conf</li>
<li>./txsscan.conf</li>
</ul>
<p>Moreover these 3 locations options can be passed on the command line.</p>
<p>Each file can defined options, at the end all options are added. if an option is specified several times.
The precedence rules from the less important to the more important are:
$PREFIX/etc/txsscan/txsscan.conf &lt; $(HOME)/.txsscan/txsscan.conf &lt; ./txsscan.conf &lt; command line option</p>
<p>the Config object provide some default values and perform some validations of the values, for instance:</p>
<p>the configuration files must follow the python ini file syntax:
in txsscan 4 sections are defined:</p>
<blockquote>
<div><ul class="simple">
<li><strong>base</strong> : all information related to the genome to study<ul>
<li><em>file</em> : the path to the genome (<em>no default value</em>)</li>
<li><em>ordered</em> :</li>
</ul>
</li>
<li><strong>hmmer</strong><ul>
<li><em>hmmer_exe</em> (default= <em>hmmsearch</em> )</li>
<li><em>e_value_res</em> = (default= <em>1</em> )</li>
<li><em>e_value_sel</em> = (default= <em>0.5</em> )</li>
<li><em>coverage_profile</em> = (default= <em>0.5</em> )</li>
</ul>
</li>
<li><strong>directories</strong><ul>
<li><em>res_search_dir</em> = (default= <em>./datatest/res_search</em> )</li>
<li><em>res_search_suffix</em> = (default= <em>.search_hmm.out</em> )</li>
<li><em>profile_dir</em> = (default= <em>./profiles</em> )</li>
<li><em>profile_suffix</em> = (default= <em>.fasta-aln_edit.hmm</em> )</li>
<li><em>res_extract_suffix</em> = (default= <em>.res_hmm_extract</em> )</li>
</ul>
</li>
<li><strong>general</strong><ul>
<li><em>log_level</em> = (default= <em>debug</em> )</li>
<li><em>log_file</em> =</li>
</ul>
</li>
</ul>
<p>example of a file configuration:</p>
<div class="highlight-python"><pre>[base]
ordered = yes

[hmmer]
hmmer_exe = hmmsearch
e_value_res = 1
e_value_sel = 0.5
coverage_profile = 0.5

[directories]
res_search_dir = ./datatest/res_search
res_search_suffix = .search_hmm.out
profile_dir = ./profiles
profile_suffix = .fasta-aln_edit.hmm
res_extract_suffix = .res_hmm_extract

[general]
log_level = debug</pre>
</div>
</div></blockquote>
</div></blockquote>
<div class="section" id="module-txsscanlib.config">
<span id="config-api-reference"></span><h2>Config API reference<a class="headerlink" href="#module-txsscanlib.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="txsscanlib.config.Config">
<em class="property">class </em><tt class="descclassname">txsscanlib.config.</tt><tt class="descname">Config</tt><big>(</big><em>cfg_file=''</em>, <em>sequence_db=None</em>, <em>ordered_db=None</em>, <em>hmmer_exe=None</em>, <em>e_value_res=None</em>, <em>i_evalue_sel=None</em>, <em>coverage_profile=None</em>, <em>def_dir=None</em>, <em>res_search_dir=None</em>, <em>res_search_suffix=None</em>, <em>profile_dir=None</em>, <em>profile_suffix=None</em>, <em>res_extract_suffix=None</em>, <em>log_level=None</em>, <em>log_file=None</em>, <em>worker_nb=None</em><big>)</big><a class="reference internal" href="_modules/txsscanlib/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>parse configuration files and handle the configuration according the file location precedence
/etc/txsscan.conf &lt; ~/.txsscan.conf &lt; .txsscan.conf
if a configuration file is given on the command line, only this file is used.
in fine the arguments passed have the highest priority</p>
<dl class="method">
<dt id="txsscanlib.config.Config.__init__">
<tt class="descname">__init__</tt><big>(</big><em>cfg_file=''</em>, <em>sequence_db=None</em>, <em>ordered_db=None</em>, <em>hmmer_exe=None</em>, <em>e_value_res=None</em>, <em>i_evalue_sel=None</em>, <em>coverage_profile=None</em>, <em>def_dir=None</em>, <em>res_search_dir=None</em>, <em>res_search_suffix=None</em>, <em>profile_dir=None</em>, <em>profile_suffix=None</em>, <em>res_extract_suffix=None</em>, <em>log_level=None</em>, <em>log_file=None</em>, <em>worker_nb=None</em><big>)</big><a class="reference internal" href="_modules/txsscanlib/config.html#Config.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sequence_db</strong> (<em>string</em>) &#8211; the path to the sequence database</li>
<li><strong>ordered_db</strong> (<em>boolean</em>) &#8211; the genes of the db are ordered</li>
<li><strong>hmmer_exe</strong> (<em>string</em>) &#8211; the hmmsearch executabe</li>
<li><strong>e_value_res</strong> (<em>float</em>) &#8211; à déterminer</li>
<li><strong>i_evalue_sel</strong> (<em>float</em>) &#8211; à déterminer</li>
<li><strong>coverage_profile</strong> (<em>float</em>) &#8211; a déterminer</li>
<li><strong>def_dir</strong> (<em>string</em>) &#8211; the path to the definition directory</li>
<li><strong>res_search_dir</strong> (<em>string</em>) &#8211; à déterminer</li>
<li><strong>res_search_suffix</strong> (<em>string</em>) &#8211; à déterminer</li>
<li><strong>res_extract_suffix</strong> (<em>string</em>) &#8211; à déterminer</li>
<li><strong>profile_dir</strong> (<em>string</em>) &#8211; à déterminer</li>
<li><strong>profile_suffix</strong> (<em>string</em>) &#8211; à déterminer</li>
<li><strong>log_level</strong> (<em>int</em>) &#8211; the level of log output</li>
<li><strong>log_file</strong> (<em>string</em>) &#8211; the path of file to write logs</li>
<li><strong>worker_nb</strong> (<em>int</em>) &#8211; the max number of processes in parrallel</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.__weakref__">
<tt class="descname">__weakref__</tt><a class="headerlink" href="#txsscanlib.config.Config.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="txsscanlib.config.Config._validate">
<tt class="descname">_validate</tt><big>(</big><em>cmde_line_opt</em><big>)</big><a class="reference internal" href="_modules/txsscanlib/config.html#Config._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>get all configuration values and validate the values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cmde_line_opt</strong> (<em>dict</em>) &#8211; the options from the command line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">all the options for this execution</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionnary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.coverage_profile">
<tt class="descname">coverage_profile</tt><a class="headerlink" href="#txsscanlib.config.Config.coverage_profile" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the coverage threshold to select a hit in the hmm report</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.def_dir">
<tt class="descname">def_dir</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.def_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.def_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the path to the directory where are the xml definitions of sectretion systems</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.e_value_res">
<tt class="descname">e_value_res</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.e_value_res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.e_value_res" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The e_value to apply for searching genes in sequences data base</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.hmmer_exe">
<tt class="descname">hmmer_exe</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.hmmer_exe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.hmmer_exe" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the name of the binary to excute to use profiles</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.i_evalue_sel">
<tt class="descname">i_evalue_sel</tt><a class="headerlink" href="#txsscanlib.config.Config.i_evalue_sel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the i_evalue threshold to selct a hit in the hmm report</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.ordered_db">
<tt class="descname">ordered_db</tt><a class="headerlink" href="#txsscanlib.config.Config.ordered_db" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the seaquence data base is ordered, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.profile_dir">
<tt class="descname">profile_dir</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.profile_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.profile_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the path to the directory where are the gene profiles</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.profile_suffix">
<tt class="descname">profile_suffix</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.profile_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.profile_suffix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the suffix for profile files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.res_extract_suffix">
<tt class="descname">res_extract_suffix</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.res_extract_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.res_extract_suffix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the suffix of extract files (after HMM output parsing)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.res_search_dir">
<tt class="descname">res_search_dir</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.res_search_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.res_search_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>:return the path to the directory where are the results of txsscan runs
:rtype: string</p>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.res_search_suffix">
<tt class="descname">res_search_suffix</tt><a class="reference internal" href="_modules/txsscanlib/config.html#Config.res_search_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#txsscanlib.config.Config.res_search_suffix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the suffix for hmm output files</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.sequence_db">
<tt class="descname">sequence_db</tt><a class="headerlink" href="#txsscanlib.config.Config.sequence_db" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the path to the sequence database</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.worker_nb">
<tt class="descname">worker_nb</tt><a class="headerlink" href="#txsscanlib.config.Config.worker_nb" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the maximum number of parrallel jobs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="txsscanlib.config.Config.working_dir">
<tt class="descname">working_dir</tt><a class="headerlink" href="#txsscanlib.config.Config.working_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the path of the working directory of this run</td>
</tr>
<tr class="field-even field"><th class="field-name">Rtpe :</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">config</a><ul>
<li><a class="reference internal" href="#module-txsscanlib.config">Config API reference</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Txsscan&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="system_parser.html"
                        title="next chapter">system_parser</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/config.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="system_parser.html" title="system_parser"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Txsscan’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">Txsscan 0.9a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Sophie Abby, Bertrand Néron.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>